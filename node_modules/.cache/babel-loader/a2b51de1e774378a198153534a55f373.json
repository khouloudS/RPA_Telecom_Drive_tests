{"ast":null,"code":"'use strict';\n\nvar XHR = require('xmlhttprequest').XMLHttpRequest;\n/**\r\n * Make a network request.\r\n * @param {String} method - HTTP method to use. e.g: GET, POST.\r\n * @param {RequestParams} params\r\n * @returns {Promise<String>} responseText\r\n*/\n\n/**\r\n* @typedef {Object} RequestParams\r\n* @property {String} url - URL to access.\r\n* @property {Object} [headers] - An unformatted map of headers.\r\n* @property {Object} [body] - An unformatted map representing\r\n*   post body.\r\n* @property {Boolean} [withCredentials=false] - Whether to set the\r\n*   XHR withCredentials flag.\r\n*/\n\n\nfunction request(method, params) {\n  return new Promise(function (resolve, reject) {\n    if (typeof method !== 'string' || !params) {\n      throw new Error('<String>method and <Object>params are required args.');\n    }\n\n    var xhr = new XHR();\n    xhr.open(method.toUpperCase(), params.url, true);\n    xhr.withCredentials = !!params.withCredentials;\n\n    xhr.onreadystatechange = function onreadystatechange() {\n      if (xhr.readyState !== 4) {\n        return;\n      }\n\n      if (200 <= xhr.status && xhr.status < 300) {\n        resolve(xhr.responseText);\n      } else {\n        reject(xhr.responseText);\n      }\n    };\n\n    for (var headerName in params.headers) {\n      xhr.setRequestHeader(headerName, params.headers[headerName]);\n    }\n\n    xhr.send(params.body);\n  });\n}\n\nrequest.get = request.bind(null, 'GET');\nrequest.post = request.bind(null, 'POST');\nmodule.exports = request;","map":{"version":3,"sources":["C:/Users/khouloud/Documents/PI/MERN_Stack_PI/node_modules/twilio-video/es5/request.js"],"names":["XHR","require","XMLHttpRequest","request","method","params","Promise","resolve","reject","Error","xhr","open","toUpperCase","url","withCredentials","onreadystatechange","readyState","status","responseText","headerName","headers","setRequestHeader","send","body","get","bind","post","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,gBAAD,CAAP,CAA0BC,cAApC;AAEA;;;;;;;AAKG;;;;;;;;;;;AASH,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;AAC/B,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,QAAI,OAAOJ,MAAP,KAAkB,QAAlB,IAA8B,CAACC,MAAnC,EAA2C;AACzC,YAAM,IAAII,KAAJ,CAAU,sDAAV,CAAN;AACD;;AAED,QAAIC,GAAG,GAAG,IAAIV,GAAJ,EAAV;AACAU,IAAAA,GAAG,CAACC,IAAJ,CAASP,MAAM,CAACQ,WAAP,EAAT,EAA+BP,MAAM,CAACQ,GAAtC,EAA2C,IAA3C;AACAH,IAAAA,GAAG,CAACI,eAAJ,GAAsB,CAAC,CAACT,MAAM,CAACS,eAA/B;;AAEAJ,IAAAA,GAAG,CAACK,kBAAJ,GAAyB,SAASA,kBAAT,GAA8B;AACrD,UAAIL,GAAG,CAACM,UAAJ,KAAmB,CAAvB,EAA0B;AACxB;AACD;;AAED,UAAI,OAAON,GAAG,CAACO,MAAX,IAAqBP,GAAG,CAACO,MAAJ,GAAa,GAAtC,EAA2C;AACzCV,QAAAA,OAAO,CAACG,GAAG,CAACQ,YAAL,CAAP;AACD,OAFD,MAEO;AACLV,QAAAA,MAAM,CAACE,GAAG,CAACQ,YAAL,CAAN;AACD;AACF,KAVD;;AAYA,SAAK,IAAIC,UAAT,IAAuBd,MAAM,CAACe,OAA9B,EAAuC;AACrCV,MAAAA,GAAG,CAACW,gBAAJ,CAAqBF,UAArB,EAAiCd,MAAM,CAACe,OAAP,CAAeD,UAAf,CAAjC;AACD;;AAEDT,IAAAA,GAAG,CAACY,IAAJ,CAASjB,MAAM,CAACkB,IAAhB;AACD,GA1BM,CAAP;AA2BD;;AAEDpB,OAAO,CAACqB,GAAR,GAAcrB,OAAO,CAACsB,IAAR,CAAa,IAAb,EAAmB,KAAnB,CAAd;AACAtB,OAAO,CAACuB,IAAR,GAAevB,OAAO,CAACsB,IAAR,CAAa,IAAb,EAAmB,MAAnB,CAAf;AAEAE,MAAM,CAACC,OAAP,GAAiBzB,OAAjB","sourcesContent":["'use strict';\r\n\r\nvar XHR = require('xmlhttprequest').XMLHttpRequest;\r\n\r\n/**\r\n * Make a network request.\r\n * @param {String} method - HTTP method to use. e.g: GET, POST.\r\n * @param {RequestParams} params\r\n * @returns {Promise<String>} responseText\r\n*/ /**\r\n   * @typedef {Object} RequestParams\r\n   * @property {String} url - URL to access.\r\n   * @property {Object} [headers] - An unformatted map of headers.\r\n   * @property {Object} [body] - An unformatted map representing\r\n   *   post body.\r\n   * @property {Boolean} [withCredentials=false] - Whether to set the\r\n   *   XHR withCredentials flag.\r\n   */\r\nfunction request(method, params) {\r\n  return new Promise(function (resolve, reject) {\r\n    if (typeof method !== 'string' || !params) {\r\n      throw new Error('<String>method and <Object>params are required args.');\r\n    }\r\n\r\n    var xhr = new XHR();\r\n    xhr.open(method.toUpperCase(), params.url, true);\r\n    xhr.withCredentials = !!params.withCredentials;\r\n\r\n    xhr.onreadystatechange = function onreadystatechange() {\r\n      if (xhr.readyState !== 4) {\r\n        return;\r\n      }\r\n\r\n      if (200 <= xhr.status && xhr.status < 300) {\r\n        resolve(xhr.responseText);\r\n      } else {\r\n        reject(xhr.responseText);\r\n      }\r\n    };\r\n\r\n    for (var headerName in params.headers) {\r\n      xhr.setRequestHeader(headerName, params.headers[headerName]);\r\n    }\r\n\r\n    xhr.send(params.body);\r\n  });\r\n}\r\n\r\nrequest.get = request.bind(null, 'GET');\r\nrequest.post = request.bind(null, 'POST');\r\n\r\nmodule.exports = request;"]},"metadata":{},"sourceType":"script"}