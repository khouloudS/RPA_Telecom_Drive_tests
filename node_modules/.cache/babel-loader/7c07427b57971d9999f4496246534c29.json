{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\khouloud\\\\Documents\\\\PI\\\\MERN_Stack_PI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\khouloud\\\\Documents\\\\PI\\\\MERN_Stack_PI\\\\src\\\\components\\\\App\\\\App_chat.js\";\nimport React, { Component } from 'react';\nimport './App_chat.css';\nimport Messages from \"./Messages\";\nimport Input from \"./Input\";\nimport { Container } from \"reactstrap\";\nimport Header from \"../Headers/Header_RPA\";\nimport $ from \"jquery\";\n\nconst Scaledrone = require('scaledrone-react-native');\n\nfunction randomName() {\n  const adjectives = [\"autumn\", \"hidden\", \"bitter\", \"misty\", \"silent\", \"empty\", \"dry\", \"dark\", \"summer\", \"icy\", \"delicate\", \"quiet\", \"white\", \"cool\", \"spring\", \"winter\", \"patient\", \"twilight\", \"dawn\", \"crimson\", \"wispy\", \"weathered\", \"blue\", \"billowing\", \"broken\", \"cold\", \"damp\", \"falling\", \"frosty\", \"green\", \"long\", \"late\", \"lingering\", \"bold\", \"little\", \"morning\", \"muddy\", \"old\", \"red\", \"rough\", \"still\", \"small\", \"sparkling\", \"throbbing\", \"shy\", \"wandering\", \"withered\", \"wild\", \"black\", \"young\", \"holy\", \"solitary\", \"fragrant\", \"aged\", \"snowy\", \"proud\", \"floral\", \"restless\", \"divine\", \"polished\", \"ancient\", \"purple\", \"lively\", \"nameless\"];\n  const nouns = [\"waterfall\", \"river\", \"breeze\", \"moon\", \"rain\", \"wind\", \"sea\", \"morning\", \"snow\", \"lake\", \"sunset\", \"pine\", \"shadow\", \"leaf\", \"dawn\", \"glitter\", \"forest\", \"hill\", \"cloud\", \"meadow\", \"sun\", \"glade\", \"bird\", \"brook\", \"butterfly\", \"bush\", \"dew\", \"dust\", \"field\", \"fire\", \"flower\", \"firefly\", \"feather\", \"grass\", \"haze\", \"mountain\", \"night\", \"pond\", \"darkness\", \"snowflake\", \"silence\", \"sound\", \"sky\", \"shape\", \"surf\", \"thunder\", \"violet\", \"water\", \"wildflower\", \"wave\", \"water\", \"resonance\", \"sun\", \"wood\", \"dream\", \"cherry\", \"tree\", \"fog\", \"frost\", \"voice\", \"paper\", \"frog\", \"smoke\", \"star\"];\n  const adjective = adjectives[Math.floor(Math.random() * adjectives.length)];\n  const noun = nouns[Math.floor(Math.random() * nouns.length)];\n  return adjective + noun;\n}\n\nfunction randomColor() {\n  return '#' + Math.floor(Math.random() * 0xFFFFFF).toString(16);\n}\n\nclass App_chat extends Component {\n  convertDate() {\n    var today = new Date(Date.now());\n    var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n    var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n    return date + ' ' + time;\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      messages: [],\n      member: {\n        username: randomName(),\n        color: randomColor()\n      }\n    };\n\n    this.onSendMessage = message => {\n      this.drone.publish({\n        room: \"observable-room\",\n        message\n      });\n    };\n\n    this.drone = new Scaledrone(\"eiAjk0Vv7MzXdvGN\", {\n      data: this.state.member\n    });\n    this.drone.on('open', error => {\n      if (error) {\n        return console.error(error);\n      }\n\n      const member = _objectSpread({}, this.state.member);\n\n      console.log(member);\n      member.id = this.drone.clientId;\n      this.setState({\n        member\n      });\n    });\n    const room = this.drone.subscribe(\"observable-room\");\n    room.on('data', (data, member) => {\n      const messages = this.state.messages;\n      messages.push({\n        member,\n        text: data,\n        time: this.convertDate()\n      });\n      this.setState({\n        messages\n      });\n      console.log(messages);\n    });\n    /* const drone = new Scaledrone('eiAjk0Vv7MzXdvGN');\r\n     drone.on('error', error => {\r\n         console.error('Error with connection:', error);\r\n     });\r\n     drone.on('close', event => {\r\n         console.log('Connection closed:', event);\r\n     });\r\n       const room = drone.subscribe('my-room');\r\n     room.on('message', message => console.log('Received data:', message.data));*/\n  }\n\n  componentDidMount() {\n    $(function () {\n      $(\".c_h\").click(function (e) {\n        if ($(\".chat_container\").is(\":visible\")) {\n          $(\".c_h .right_c .mini\").text(\"+\");\n        } else {\n          $(\".c_h .right_c .mini\").text(\"-\");\n        }\n\n        $(\".chat_container\").slideToggle(\"slow\");\n        return false;\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"l_c_h\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"c_h\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left_c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left right_c left_icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"mini\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \" +\")), React.createElement(\"div\", {\n      className: \"left center_icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Chat\")), React.createElement(\"div\", {\n      className: \"right right_c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"clear\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"chat_container displaydiv ex3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Messages, {\n      messages: this.state.messages,\n      currentMember: this.state.member,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.state.member)), React.createElement(\"div\", {\n      className: \"set_bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"footer_c \",\n      onSendMessage: this.onSendMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App_chat;","map":{"version":3,"sources":["C:/Users/khouloud/Documents/PI/MERN_Stack_PI/src/components/App/App_chat.js"],"names":["React","Component","Messages","Input","Container","Header","$","Scaledrone","require","randomName","adjectives","nouns","adjective","Math","floor","random","length","noun","randomColor","toString","App_chat","convertDate","today","Date","now","date","getFullYear","getMonth","getDate","time","getHours","getMinutes","getSeconds","constructor","state","messages","member","username","color","onSendMessage","message","drone","publish","room","data","on","error","console","log","id","clientId","setState","subscribe","push","text","componentDidMount","click","e","is","slideToggle","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './App_chat.css';\r\nimport Messages from \"./Messages\";\r\nimport Input from \"./Input\";\r\nimport {Container} from \"reactstrap\";\r\nimport Header from \"../Headers/Header_RPA\";\r\nimport $ from \"jquery\";\r\nconst Scaledrone = require('scaledrone-react-native');\r\n\r\nfunction randomName() {\r\n\r\n    const adjectives = [\r\n        \"autumn\", \"hidden\", \"bitter\", \"misty\", \"silent\", \"empty\", \"dry\", \"dark\",\r\n        \"summer\", \"icy\", \"delicate\", \"quiet\", \"white\", \"cool\", \"spring\", \"winter\",\r\n        \"patient\", \"twilight\", \"dawn\", \"crimson\", \"wispy\", \"weathered\", \"blue\",\r\n        \"billowing\", \"broken\", \"cold\", \"damp\", \"falling\", \"frosty\", \"green\", \"long\",\r\n        \"late\", \"lingering\", \"bold\", \"little\", \"morning\", \"muddy\", \"old\", \"red\",\r\n        \"rough\", \"still\", \"small\", \"sparkling\", \"throbbing\", \"shy\", \"wandering\",\r\n        \"withered\", \"wild\", \"black\", \"young\", \"holy\", \"solitary\", \"fragrant\",\r\n        \"aged\", \"snowy\", \"proud\", \"floral\", \"restless\", \"divine\", \"polished\",\r\n        \"ancient\", \"purple\", \"lively\", \"nameless\"\r\n    ];\r\n    const nouns = [\r\n        \"waterfall\", \"river\", \"breeze\", \"moon\", \"rain\", \"wind\", \"sea\", \"morning\",\r\n        \"snow\", \"lake\", \"sunset\", \"pine\", \"shadow\", \"leaf\", \"dawn\", \"glitter\",\r\n        \"forest\", \"hill\", \"cloud\", \"meadow\", \"sun\", \"glade\", \"bird\", \"brook\",\r\n        \"butterfly\", \"bush\", \"dew\", \"dust\", \"field\", \"fire\", \"flower\", \"firefly\",\r\n        \"feather\", \"grass\", \"haze\", \"mountain\", \"night\", \"pond\", \"darkness\",\r\n        \"snowflake\", \"silence\", \"sound\", \"sky\", \"shape\", \"surf\", \"thunder\",\r\n        \"violet\", \"water\", \"wildflower\", \"wave\", \"water\", \"resonance\", \"sun\",\r\n        \"wood\", \"dream\", \"cherry\", \"tree\", \"fog\", \"frost\", \"voice\", \"paper\", \"frog\",\r\n        \"smoke\", \"star\"\r\n    ];\r\n    const adjective = adjectives[Math.floor(Math.random() * adjectives.length)];\r\n    const noun = nouns[Math.floor(Math.random() * nouns.length)];\r\n    return adjective + noun;\r\n}\r\n\r\nfunction randomColor() {\r\n    return '#' + Math.floor(Math.random() * 0xFFFFFF).toString(16);\r\n}\r\n\r\nclass App_chat extends Component {\r\n\r\n    state = {\r\n        messages: [],\r\n        member: {\r\n            username: randomName(),\r\n            color: randomColor(),\r\n        }\r\n    }\r\n     convertDate() {\r\n        var today = new Date(Date.now());\r\n        var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\r\n        var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n        return  date+' '+time;\r\n    }\r\n    constructor() {\r\n        super();\r\n\r\n       this.drone = new Scaledrone(\"eiAjk0Vv7MzXdvGN\", {\r\n            data: this.state.member\r\n        });\r\n        this.drone.on('open', error => {\r\n            if (error) {\r\n                return console.error(error);\r\n            }\r\n            const member = {...this.state.member};\r\n            console.log(member)\r\n            member.id = this.drone.clientId;\r\n            this.setState({member});\r\n        });\r\n        const room = this.drone.subscribe(\"observable-room\");\r\n        room.on('data', (data, member) => {\r\n            const messages = this.state.messages;\r\n            messages.push({member, text: data, time:this.convertDate()});\r\n            this.setState({messages});\r\n            console.log(messages)\r\n        });\r\n       /* const drone = new Scaledrone('eiAjk0Vv7MzXdvGN');\r\n        drone.on('error', error => {\r\n            console.error('Error with connection:', error);\r\n        });\r\n        drone.on('close', event => {\r\n            console.log('Connection closed:', event);\r\n        });\r\n\r\n        const room = drone.subscribe('my-room');\r\n        room.on('message', message => console.log('Received data:', message.data));*/\r\n    }\r\n    componentDidMount() {\r\n        $(function(){\r\n            $(\".c_h\").click(function(e) {\r\n                if ($(\".chat_container\").is(\":visible\")) {\r\n                    $(\".c_h .right_c .mini\").text(\"+\");\r\n                } else {\r\n                    $(\".c_h .right_c .mini\").text(\"-\");\r\n\r\n                }\r\n                $(\".chat_container\").slideToggle(\"slow\");\r\n\r\n                return false;\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                < div className = \"l_c_h\" >\r\n                    < div className = \"c_h\" >\r\n                        < div className = \"left_c\" >\r\n                            < div className = \"left right_c left_icons\" >\r\n                                < a href = \"#\" className = \"mini\"> +</a>\r\n                            </div>\r\n                            <div className=\"left center_icons\">\r\n                                Chat\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right right_c\" >\r\n\r\n                        </div>\r\n                        <div className=\"clear\"></div>\r\n                    </div>\r\n                    <div className=\"chat_container displaydiv ex3\">\r\n                        <Messages\r\n                            messages={this.state.messages}\r\n                            currentMember={this.state.member}\r\n                        />\r\n                        <span>{this.state.member}</span>\r\n                    </div>\r\n                    <div className=\"set_bottom\">\r\n                        <Input className=\"footer_c \"\r\n                               onSendMessage={this.onSendMessage}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onSendMessage = (message) => {\r\n        this.drone.publish({\r\n            room: \"observable-room\",\r\n            message\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default App_chat;\r\n"]},"metadata":{},"sourceType":"module"}