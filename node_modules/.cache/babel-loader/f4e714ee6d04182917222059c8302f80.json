{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khouloud\\\\Documents\\\\PI\\\\MERN_Stack_PI\\\\src\\\\views\\\\chatRoom\\\\chat_room_request.js\";\n\n/*!\r\n\r\n=========================================================\r\n* Argon Dashboard React - v1.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\nimport React from \"react\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, Col, Form } from \"reactstrap\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Select from \"react-select\";\n\nclass ChatRoom extends React.Component {\n  constructor(props) {\n    super(props); // this.state = {value: ''};\n\n    this.random_id = '0';\n    this.listEmail = [];\n    this.email = '';\n    this.state = {\n      selectedOption: null\n    };\n\n    this.handleChange = selectedOption => {\n      this.setState({\n        selectedOption\n      });\n      console.log(\"Option selected:\", selectedOption);\n      this.email = selectedOption['value'];\n    };\n\n    this.random_id = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15); //this.handleChange = this.handleChange.bind(this);\n    //this.handleSubmit = this.handleSubmit.bind(this);\n\n    axios.get('http://localhost:4000/api/sendEmail/').then(res => {\n      for (var i = 0; i < res.data.length; i++) {\n        this.listEmail.push({\n          'value': res.data[i]['email'],\n          'label': res.data[i]['email']\n        });\n      }\n\n      console.log(this.listEmail);\n    });\n  }\n  /* handleChange(event) {\r\n       this.setState({value: event.target.value});\r\n   }*/\n\n\n  /* handleSubmit(event) {\r\n       alert('Le nom a été soumis : ' + this.email);\r\n       event.preventDefault();\r\n   }\r\n  */\n  invite(event) {\n    console.log(this.email);\n    console.log(this.random_id);\n    var mail = this.email;\n    var txt = this.random_id;\n    console.log(txt);\n    axios.get('http://localhost:4000/api/sendEmail/' + mail + '/' + txt).then(res => console.log(res.data)); // console.log( this.state.value);\n  }\n\n  render() {\n    const selectedOption = this.state.selectedOption;\n    return React.createElement(React.Fragment, null, React.createElement(Col, {\n      lg: \"6\",\n      md: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"bg-secondary shadow border-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      className: \"bg-transparent pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-muted text-center mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"big\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Call request\"))), React.createElement(CardBody, {\n      className: \"px-lg-5 py-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-center text-muted mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"big\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Search email\")), React.createElement(Form, {\n      role: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Select, {\n      value: selectedOption,\n      onChange: this.handleChange,\n      options: this.listEmail,\n      style: {\n        width: \"\".concat(200, \"%\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/App/\".concat(this.random_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"mt-4\",\n      color: \"primary\",\n      type: \"button\",\n      onClick: this.invite(selectedOption),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Invite\"))))))));\n  }\n\n}\n\nexport default ChatRoom;","map":{"version":3,"sources":["C:/Users/khouloud/Documents/PI/MERN_Stack_PI/src/views/chatRoom/chat_room_request.js"],"names":["React","Button","Card","CardHeader","CardBody","Col","Form","axios","Link","Select","ChatRoom","Component","constructor","props","random_id","listEmail","email","state","selectedOption","handleChange","setState","console","log","Math","random","toString","substring","get","then","res","i","data","length","push","invite","event","mail","txt","render","width"],"mappings":"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","sourcesContent":["/*!\r\n\r\n=========================================================\r\n* Argon Dashboard React - v1.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React from \"react\";\r\n\r\n// reactstrap components\r\nimport {\r\n    Button,\r\n    Card,\r\n    CardHeader,\r\n    CardBody,\r\n    Col, Form\r\n} from \"reactstrap\";\r\nimport axios from \"axios\";\r\nimport {Link} from 'react-router-dom';\r\nimport Select from \"react-select\";\r\n\r\n\r\nclass ChatRoom extends React.Component {\r\n    random_id = '0';\r\n    listEmail = [];\r\n    email = '';\r\n    state = {\r\n        selectedOption: null,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {value: ''};\r\n        this.random_id = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n        //this.handleChange = this.handleChange.bind(this);\r\n        //this.handleSubmit = this.handleSubmit.bind(this);\r\n        axios.get('http://localhost:4000/api/sendEmail/')\r\n            .then(res => {\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        this.listEmail.push({'value': res.data[i]['email'], 'label': res.data[i]['email']})\r\n                    }\r\n                    console.log(this.listEmail)\r\n                }\r\n            );\r\n\r\n\r\n    }\r\n\r\n    /* handleChange(event) {\r\n         this.setState({value: event.target.value});\r\n     }*/\r\n\r\n    handleChange = selectedOption => {\r\n        this.setState({selectedOption});\r\n        console.log(`Option selected:`, selectedOption);\r\n        this.email = selectedOption['value']\r\n    };\r\n\r\n    /* handleSubmit(event) {\r\n         alert('Le nom a été soumis : ' + this.email);\r\n         event.preventDefault();\r\n     }\r\n */\r\n    invite(event) {\r\n        console.log(this.email)\r\n        console.log(this.random_id)\r\n        var mail = this.email\r\n        var txt = this.random_id;\r\n        console.log(txt)\r\n        axios.get('http://localhost:4000/api/sendEmail/' + mail + '/' + txt)\r\n            .then(res => console.log(res.data));\r\n        // console.log( this.state.value);\r\n    }\r\n\r\n\r\n    render() {\r\n        const {selectedOption} = this.state;\r\n\r\n        return (\r\n            <>\r\n                <Col lg=\"6\" md=\"8\">\r\n                    <Card className=\"bg-secondary shadow border-0\">\r\n                        <CardHeader className=\"bg-transparent pb-5\">\r\n                            <div className=\"text-muted text-center mt-2\">\r\n                                <big>Call request</big>\r\n                            </div>\r\n\r\n                        </CardHeader>\r\n                        <CardBody className=\"px-lg-5 py-lg-5\">\r\n                            <div className=\"text-center text-muted mb-4\">\r\n                                <big>Search email</big>\r\n                            </div>\r\n                            <Form role=\"form\">\r\n\r\n                                <div className=\"text-center\">\r\n                                <Select\r\n                                    value={selectedOption}\r\n                                    onChange={this.handleChange}\r\n                                    options={this.listEmail}\r\n                                    style={{width: `${200}%`}}\r\n                                />\r\n                                </div>\r\n\r\n                                <div className=\"text-center\">\r\n                                    <Link to={`/App/${this.random_id}`}>\r\n\r\n\r\n                                        <Button className=\"mt-4\" color=\"primary\" type=\"button\"\r\n                                                onClick={this.invite(selectedOption)}>\r\n                                            Invite\r\n                                        </Button>\r\n                                    </Link>\r\n                                </div>\r\n                            </Form>\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ChatRoom;\r\n"]},"metadata":{},"sourceType":"module"}