{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khouloud\\\\Documents\\\\PI\\\\MERN_Stack_PI\\\\src\\\\components\\\\App\\\\App_chat.js\";\nimport React, { Component } from 'react';\nimport './App_chat.css';\nimport MessageList from \"./MessageList\";\nimport MessageForm from \"./MessageForm\";\n\nclass App_chat extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.getToken().then(this.createChatClient).then(this.joinGeneralChannel).then(this.configureChannelEvents).catch(error => {\n        this.addMessage({\n          body: \"Error: \".concat(error.message)\n        });\n      });\n    };\n\n    this.configureChannelEvents = channel => {\n      channel.on('messageAdded', ({\n        author,\n        body\n      }) => {\n        this.addMessage({\n          author,\n          body\n        });\n      });\n      channel.on('memberJoined', member => {\n        this.addMessage({\n          body: \"\".concat(member.identity, \" has joined the channel.\")\n        });\n      });\n      channel.on('memberLeft', member => {\n        this.addMessage({\n          body: \"\".concat(member.identity, \" has left the channel.\")\n        });\n      });\n    };\n\n    this.handleNewMessage = text => {\n      if (this.state.channel) {\n        this.state.channel.sendMessage(text);\n      }\n    };\n\n    this.state = {\n      messages: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(MessageList, {\n      messages: this.state.messages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(MessageForm, {\n      onMessageSend: this.handleNewMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App_chat;","map":{"version":3,"sources":["C:/Users/khouloud/Documents/PI/MERN_Stack_PI/src/components/App/App_chat.js"],"names":["React","Component","MessageList","MessageForm","App_chat","constructor","props","componentDidMount","getToken","then","createChatClient","joinGeneralChannel","configureChannelEvents","catch","error","addMessage","body","message","channel","on","author","member","identity","handleNewMessage","text","state","sendMessage","messages","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAC7BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAMnBC,iBANmB,GAMC,MAAM;AACtB,WAAKC,QAAL,GACKC,IADL,CACU,KAAKC,gBADf,EAEKD,IAFL,CAEU,KAAKE,kBAFf,EAGKF,IAHL,CAGU,KAAKG,sBAHf,EAIKC,KAJL,CAIYC,KAAD,IAAW;AACd,aAAKC,UAAL,CAAgB;AAAEC,UAAAA,IAAI,mBAAYF,KAAK,CAACG,OAAlB;AAAN,SAAhB;AACH,OANL;AAOH,KAdkB;;AAAA,SAgBnBL,sBAhBmB,GAgBOM,OAAD,IAAa;AAClCA,MAAAA,OAAO,CAACC,EAAR,CAAW,cAAX,EAA2B,CAAC;AAAEC,QAAAA,MAAF;AAAUJ,QAAAA;AAAV,OAAD,KAAsB;AAC7C,aAAKD,UAAL,CAAgB;AAAEK,UAAAA,MAAF;AAAUJ,UAAAA;AAAV,SAAhB;AACH,OAFD;AAIAE,MAAAA,OAAO,CAACC,EAAR,CAAW,cAAX,EAA4BE,MAAD,IAAY;AACnC,aAAKN,UAAL,CAAgB;AAAEC,UAAAA,IAAI,YAAKK,MAAM,CAACC,QAAZ;AAAN,SAAhB;AACH,OAFD;AAIAJ,MAAAA,OAAO,CAACC,EAAR,CAAW,YAAX,EAA0BE,MAAD,IAAY;AACjC,aAAKN,UAAL,CAAgB;AAAEC,UAAAA,IAAI,YAAKK,MAAM,CAACC,QAAZ;AAAN,SAAhB;AACH,OAFD;AAGH,KA5BkB;;AAAA,SA6BnBC,gBA7BmB,GA6BCC,IAAD,IAAU;AACzB,UAAI,KAAKC,KAAL,CAAWP,OAAf,EAAwB;AACpB,aAAKO,KAAL,CAAWP,OAAX,CAAmBQ,WAAnB,CAA+BF,IAA/B;AACH;AACJ,KAjCkB;;AAEf,SAAKC,KAAL,GAAa;AACTE,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH;;AA6BDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWE,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,WAAD;AAAa,MAAA,aAAa,EAAE,KAAKJ,gBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH;;AA1C4B;;AA6CjC,eAAenB,QAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport './App_chat.css'\r\nimport MessageList from \"./MessageList\";\r\nimport MessageForm from \"./MessageForm\";\r\n\r\nclass App_chat extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            messages: [],\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        this.getToken()\r\n            .then(this.createChatClient)\r\n            .then(this.joinGeneralChannel)\r\n            .then(this.configureChannelEvents)\r\n            .catch((error) => {\r\n                this.addMessage({ body: `Error: ${error.message}` })\r\n            })\r\n    }\r\n\r\n    configureChannelEvents = (channel) => {\r\n        channel.on('messageAdded', ({ author, body }) => {\r\n            this.addMessage({ author, body })\r\n        })\r\n\r\n        channel.on('memberJoined', (member) => {\r\n            this.addMessage({ body: `${member.identity} has joined the channel.` })\r\n        })\r\n\r\n        channel.on('memberLeft', (member) => {\r\n            this.addMessage({ body: `${member.identity} has left the channel.` })\r\n        })\r\n    }\r\n    handleNewMessage = (text) => {\r\n        if (this.state.channel) {\r\n            this.state.channel.sendMessage(text)\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <MessageList messages={this.state.messages} />\r\n                <MessageForm onMessageSend={this.handleNewMessage} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App_chat\r\n"]},"metadata":{},"sourceType":"module"}